<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment 5 - Integrated Project</title>
    
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>

    <style>
        /* =========================================
           1. ÂÖ®Â±ÄËÉåÊôØ‰∏éÂ∏ÉÂ±Ä (Part 1 È£éÊ†º)
           ========================================= */
        body {
            font-family: "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #2d3748;
            overflow-x: hidden;
            position: relative;
            background: linear-gradient(120deg, #dbeafe, #f1f5f9, #f0e6d2, #dbeafe);
            background-size: 400% 400%;
            animation: gradientShift 20s ease infinite;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* ËÉåÊôØË£ÖÈ•∞ */
        .particle {
            position: fixed;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(37,99,235,0.15) 0%, rgba(37,99,235,0) 70%);
            animation: float 25s linear infinite;
            z-index: -1;
            pointer-events: none;
        }
        @keyframes float {
            0% { transform: translateY(0) translateX(0); opacity: 0.7; }
            50% { transform: translateY(-120px) translateX(60px); opacity: 1; }
            100% { transform: translateY(0) translateX(0); opacity: 0.7; }
        }
        .moon {
            position: fixed;
            width: 120px;
            height: 120px;
            background: radial-gradient(circle at 30% 30%, #fff7c0, #ffd60a);
            border-radius: 50%;
            top: 15%;
            left: 80%;
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.5);
            z-index: -1;
            animation: moonFloat 8s ease-in-out infinite alternate;
        }
        @keyframes moonFloat {
            0% { transform: translateY(0px); }
            100% { transform: translateY(-15px); }
        }
        .cloud {
            position: fixed;
            width: 100px;
            height: 40px;
            background: radial-gradient(circle, #fff 0%, #fef3c7 60%);
            border-radius: 50%;
            top: 50%;
            left: 10%;
            opacity: 0.3;
            animation: cloudMove 40s linear infinite;
            z-index: -1;
        }
        @keyframes cloudMove {
            0% { transform: translateX(0); }
            100% { transform: translateX(100vw); }
        }

        /* =========================================
           2. ÂÆπÂô®Ê†∑Âºè
           ========================================= */
        h1.main-title {
            text-align: center;
            font-size: 2.5rem;
            color: #1e3a8a;
            margin-top: 60px;
            margin-bottom: 40px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.05);
            z-index: 2;
        }

        .assignment-section {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            border-radius: 16px;
            padding: 25px 30px;
            box-shadow: 0 12px 30px rgba(0,0,0,0.08);
            width: 90%;
            max-width: 1000px;
            margin-bottom: 40px;
            z-index: 2;
            position: relative;
        }

        .section-title {
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 15px;
            margin-bottom: 25px;
            color: #1e3a8a;
            font-weight: 700;
            font-size: 1.5rem;
        }

        /* =========================================
           3. Part 1 Styles (PSI Table)
           ========================================= */
        #timestamp { text-align:center; color:#4b5563; margin-bottom:25px; }
        #controls { text-align:center; margin-bottom:25px; }
        button.psi-btn {
            padding: 10px 22px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(135deg, #2563eb, #1e40af);
            color: #fff;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.25s ease;
            box-shadow: 0 3px 8px rgba(37, 99, 235, 0.25);
        }
        button.psi-btn:hover {
            background: linear-gradient(135deg, #3b82f6, #1e3a8a);
            transform: translateY(-2px);
            box-shadow: 0 5px 14px rgba(37, 99, 235, 0.35);
        }
        .psi-table-wrapper table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            background-color: transparent;
            border-radius: 12px;
            overflow: hidden;
        }
        .psi-table-wrapper thead { background: linear-gradient(90deg, #eff6ff, #e2e8f0); }
        .psi-table-wrapper th, .psi-table-wrapper td {
            padding: 14px 20px;
            text-align: center;
            border-bottom: 1px solid #e5e7eb;
        }
        .psi-table-wrapper th { color: #1f2937; font-weight:700; }
        .psi-table-wrapper tbody tr:nth-child(odd){ background-color: #fafbfc; }
        .psi-table-wrapper tbody tr:hover{ background-color: #e8efff; transform: scale(1.002); }
        .psi-table-wrapper tbody td:first-child{ font-weight:600; color:#1d4ed8; }

        /* =========================================
           4. Part 2 Styles (External SVG Files)
           ========================================= */
        .svg-transform-table {
            border-collapse: collapse;
            margin: 20px auto;
            background-color: #ffffff;
            border: 3px solid #000;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
            width: 100%;
        }
        .svg-transform-table th, .svg-transform-table td {
            border: 2px solid #000;
            padding: 10px 15px;
            text-align: center;
            vertical-align: middle;
        }
        .svg-transform-table th {
            background-color: #f3f3f3;
            color: #222;
            font-weight: bold;
        }
        .svg-transform-table td { background-color: #ffffff; }
        .svg-transform-table img {
            width: 100px;
            height: 100px;
            transition: 0.3s;
            display: block;
            margin: 0 auto;
        }
        .mirror { transform: scaleX(-1); }
        .rotate { transform: rotate(180deg); }
        .compress { transform: scaleY(0.5); }
        .gray { filter: grayscale(100%); }

        /* =========================================
           5. Part 3 Styles (SVG Cards)
           ========================================= */
        .svg-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        .svg-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            width: 100%;
            display: flex;
            flex-direction: column;
        }
        .svg-header {
            padding: 15px 20px;
            background: linear-gradient(to right, #3498db, #2c3e50);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        .svg-title {
            font-size: 1.5rem;
            font-weight: 700;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .svg-number {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
        }
        .svg-container {
            flex: 1;
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #eee;
            position: relative;
        }
        .svg-container svg {
            width: 100%;
            height: 100%;
            max-height: 70vh;
        }
        .note-section { padding: 20px; }
        .note-label { 
            font-weight: bold; color: #2c3e50; border-bottom: 2px solid #eee; padding-bottom: 5px; margin-bottom: 10px; 
            display: flex; align-items: center; gap: 8px;
        }
        .process-link {
            margin-top: 20px; padding: 15px; background: #f8f9fa; 
            border-radius: 8px; border-left: 4px solid #3498db;
        }
        .process-btn {
            display: inline-block; padding: 8px 16px; 
            background: linear-gradient(135deg, #3498db, #2980b9); 
            color: white; text-decoration: none; border-radius: 6px; 
            font-size: 14px; font-weight: 500; transition: all 0.3s ease; 
            box-shadow: 0 2px 8px rgba(52, 152, 219, 0.3);
        }

        /* --- Specific SVG Animations (Part 3) --- */
        
        /* SVG 1 */
        #svg1 { cursor: pointer; transition: transform 0.3s ease; }
        #svg1:hover { transform: scale(1.02); }
        #svg1 .grid-line { transition: stroke 0.3s ease; }
        #svg1:hover .grid-line { stroke: #a0a0a0; }
        #svg1 .point { cursor: pointer; transition: all 0.3s ease; }
        #svg1 .point:hover { r: 0.08; fill: #ff6b6b; }
        #svg1 .line-animation { animation: pulse 2s ease-in-out infinite; }

        /* SVG 2 */
        .frame{stroke:#222;stroke-width:0.06;fill:none}
        .gridMinor{stroke:#e9ecef;stroke-width:0.02}
        .gridMajor{stroke:#d7dde4;stroke-width:0.03}
        .label{font: 0.35px/1.2 system-ui,sans-serif; fill:#222}
        .hint{font: 0.48px/1.2 system-ui,sans-serif; opacity:.85}
        .hint-blue{fill:#1f6feb}
        .hint-gray{fill:#6b7280}
        .band{fill:#7fc1ff; fill-opacity:.22; stroke:#7fb0e0; stroke-width:0.05; animation: bandPulse 3.5s ease-in-out infinite;}
        @keyframes bandPulse{ 0%,100%{fill-opacity:.18} 50%{fill-opacity:.30} }
        .start{fill:none; stroke:#111; stroke-width:0.1; marker-end:url(#arrow)}
        .seg{ fill:none; stroke:#111; stroke-width:0.08; stroke-linecap:round; stroke-linejoin:round; marker-end:url(#arrow); stroke-dasharray: 0.6 0.35; animation: flow 1.2s linear infinite; }
        @keyframes flow{ to{ stroke-dashoffset: -1.0; } }
        .block{ width:.7px; height:.7px; rx:.08px; }

        /* SVG 3 - Shiny Wrap for External Image */
        .shiny-wrap {
            position: relative; overflow: hidden; border-radius: 12px; display: inline-block;
            transform: translateZ(0); box-shadow: 0 4px 14px rgba(0,0,0,.08); transition: box-shadow .35s ease;
            width: 100%; height: 100%;
        }
        .shiny-wrap:hover { box-shadow: 0 10px 24px rgba(0,0,0,.14); }
        .shiny-img {
            display: block; width: 100%; height: 100%; object-fit: contain;
            transition: transform .35s ease; transform: scale(1); will-change: transform;
        }
        .shiny-wrap:hover .shiny-img { transform: scale(1.06); }
        .shiny-wrap::after {
            content: ""; position: absolute; top: -150%; left: -150%; width: 300%; height: 300%;
            background: linear-gradient(-60deg, rgba(255,255,255,0) 45%, rgba(255,255,255,.6) 50%, rgba(255,255,255,0) 55%);
            mix-blend-mode: screen; pointer-events: none; animation: shine 3.2s linear infinite;
        }
        .shiny-wrap:hover::after { animation-duration: 1.6s; }
        @keyframes shine { 0% { transform: translate(0,0) rotate(-45deg); } 100% { transform: translate(60%,60%) rotate(-45deg); } }

        /* SVG 4 */
        #svg4 { cursor: default; transition: transform 0.3s ease; }
        #svg4:hover { transform: scale(1.01); }
        #svg4 #curve0, #svg4 #curve1 { stroke-linecap: round; stroke-linejoin: round; animation: draw 30s ease-in-out infinite; transition: stroke-width 0.3s ease;}
        #svg4 #curve1 { animation-delay: 0.4s; }
        @keyframes draw { 0% { stroke-dashoffset: var(--dash); } 10% { stroke-dashoffset: 5; } 100% { stroke-dashoffset: 25; } }
        #svg4 #overlap { animation: breathe 3.2s ease-in-out infinite; }
        @keyframes breathe { 0%, 100% { fill-opacity: 0.40; } 50% { fill-opacity: 0.55; } }
        #svg4 #xpointGlow { fill: #6b7280; animation: blink 1.6s ease-in-out infinite; }
        @keyframes blink { 0%, 100% { opacity: 0.25; r: 6; } 50% { opacity: 0.75; r: 10; } }
        #svg4:hover #curve0, #svg4:hover #curve1 { stroke-width: 4; }

        /* SVG 5 */
        #svg5 { cursor: default; transition: transform 0.3s ease; }
        #svg5:hover { transform: scale(1.02); }
        .color-control { transition: transform 0.3s ease; }
        .color-control:hover { transform: scale(1.05); }
        #mixCircle { transition: all 0.5s ease; animation: pulse 3s ease-in-out infinite; }
        @keyframes pulse { 0%, 100% { filter: url(#glow); r: 80; } 50% { filter: url(#glow) brightness(1.1); r: 82; } }
        .color-control circle:first-child { animation: colorPulse 2s ease-in-out infinite; }
        @keyframes colorPulse { 0%, 100% { filter: url(#glow); } 50% { filter: url(#glow) brightness(1.2); } }
        #redCircle { animation-delay: 0s; } #greenCircle { animation-delay: 0.4s; } #blueCircle { animation-delay: 0.8s; }

        /* =========================================
           6. Part 4 Styles (D3 Heatmap)
           ========================================= */
        #part4-container {
            --p4-primary-color: #2c3e50;
            --p4-border-color: #e0e0e0;
            --p4-header-bg: #f4f4f4;
            --p4-row-header-bg: #f9f9f9;
            --p4-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            --p4-highlight-color: #3498db;
        }
        #part4-container .controls {
            display: flex; flex-wrap: wrap; gap: 20px; margin-bottom: 25px;
            justify-content: center; align-items: center; padding: 15px;
            background: white; border-radius: 8px; box-shadow: var(--p4-shadow);
        }
        #part4-container .search-box { flex: 1; min-width: 300px; position: relative; }
        #part4-container .search-box input { width: 100%; padding: 10px 15px; border: 1px solid #ddd; border-radius: 4px; font-size: 16px; box-sizing: border-box; }
        #part4-container .search-suggestions {
            position: absolute; top: 100%; left: 0; right: 0; background: white;
            border: 1px solid #ddd; border-top: none; border-radius: 0 0 4px 4px;
            max-height: 200px; overflow-y: auto; z-index: 100; display: none;
        }
        #part4-container .search-suggestions div { padding: 10px 15px; cursor: pointer; text-align: left; }
        #part4-container .search-suggestions div:hover { background-color: #f0f0f0; }
        #part4-container button { padding: 10px 15px; background-color: var(--p4-primary-color); color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; transition: background-color 0.2s; }
        #part4-container button:hover { background-color: #1a252f; }
        #heatmap-container { width: 100%; margin: 20px auto; overflow-x: auto; border: 1px solid var(--p4-border-color); box-shadow: var(--p4-shadow); background: white; border-radius: 4px; position: relative; }
        #heatmap-table { border-collapse: collapse; width: 100%; font-size: 14px; }
        #heatmap-table th, #heatmap-table td { border: 1px solid var(--p4-border-color); padding: 10px 12px; text-align: center; min-width: 80px; transition: all 0.3s ease; }
        #heatmap-table thead th { background-color: var(--p4-header-bg); color: #333; position: sticky; top: 0; z-index: 10; font-weight: 600; }
        #heatmap-table tbody th { background-color: var(--p4-row-header-bg); text-align: left; padding-left: 15px; position: sticky; left: 0; z-index: 5; font-weight: 500; }
        #heatmap-table thead th:first-child { z-index: 15; left: 0; }
        #heatmap-table td:hover { transform: scale(1.15); z-index: 20; box-shadow: 0 0 20px rgba(0,0,0,0.1); border: 2px solid var(--p4-highlight-color); }
        #legend { display: flex; justify-content: center; align-items: center; margin: 20px auto; flex-wrap: wrap; gap: 15px; }
        .legend-item { display: flex; align-items: center; margin: 0 10px; }
        .legend-color { width: 20px; height: 20px; margin-right: 5px; border: 1px solid #ddd; }
        .stats-panel { margin-top: 20px; padding: 15px; background: white; border-radius: 8px; box-shadow: var(--p4-shadow); }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; }
        .stat-item { padding: 10px; background: #f8f9fa; border-radius: 4px; text-align: center; }
        .stat-value { font-size: 24px; font-weight: bold; color: var(--p4-primary-color); }
        .stat-label { font-size: 14px; color: #666; }
        .hidden { display: none; }
        .highlight-row { background-color: rgba(52, 152, 219, 0.15) !important; font-weight: bold; box-shadow: inset 0 0 0 2px var(--p4-highlight-color); }
        .highlight-col { background-color: rgba(52, 152, 219, 0.15) !important; font-weight: bold; box-shadow: inset 0 0 0 2px var(--p4-highlight-color); }
        .highlight-cell { transform: scale(1.2); box-shadow: 0 0 20px rgba(52, 152, 219, 0.7); z-index: 25; border: 2px solid var(--p4-highlight-color) !important; }
        .d3-row { opacity: 0; }
        .d3-row.visible { opacity: 1; }
        .d3-cell { transition: all 0.3s ease; }
        .attack-label { background-color: white !important; color: black !important; font-weight: bold; }

        @media (max-width: 768px) {
            .svg-grid { grid-template-columns: 1fr; }
            .svg-card { min-height: 60vh; }
            #heatmap-table th, #heatmap-table td { padding: 6px 8px; font-size: 12px; min-width: 60px; }
            #part4-container .controls { flex-direction: column; align-items: stretch; }
        }

    </style>
</head>
<body>
    <h1 class="main-title">Assignment 5</h1>

    <div class="assignment-section">
        <h2 class="section-title">Part 1: Realtime Singapore PSI</h2>
        <div id="part1-container">
            <div id="timestamp"></div>
            <div id="controls">
                <button id="refreshBtn" class="psi-btn">Refresh Data</button>
                <span id="status" style="margin-left: 10px; color: #555;"></span>
            </div>
            <div class="particle" style="width:60px;height:60px;top:10%;left:10%;animation-delay:0s;"></div>
            <div class="particle" style="width:40px;height:40px;top:70%;left:70%;animation-delay:4s;"></div>
            <div class="particle" style="width:50px;height:50px;top:30%;left:50%;animation-delay:6s;"></div>
            <div class="particle" style="width:30px;height:30px;top:60%;left:30%;animation-delay:8s;"></div>
            <div class="particle" style="width:70px;height:70px;top:20%;left:80%;animation-delay:10s;"></div>
            <div class="moon"></div>
            <div class="cloud"></div>

            <div class="psi-table-wrapper">
                <table id="psiTable">
                    <thead>
                        <tr>
                            <th>Reading Type</th>
                            <th>North</th>
                            <th>South</th>
                            <th>East</th>
                            <th>West</th>
                            <th>Central</th>
                        </tr>
                    </thead>
                    <tbody><tr><td colspan="6">Loading...</td></tr></tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="assignment-section">
        <h2 class="section-title">Part 2: SVG Transformation</h2>
        <div id="part2-container">
            <table class="svg-transform-table">
                <tr>
                  <th>Original</th>
                  <th>Mirror</th>
                  <th>Rotate 180¬∞</th>
                  <th>Compress 50%</th>
                  <th>Grayscale</th>
                </tr>
                <tr>
                  <td><img src="SVG1.svg" alt="SVG1 Original"></td>
                  <td><img src="SVG1.svg" class="mirror" alt="SVG1 Mirror"></td>
                  <td><img src="SVG1.svg" class="rotate" alt="SVG1 Rotate"></td>
                  <td><img src="SVG1.svg" class="compress" alt="SVG1 Compress"></td>
                  <td><img src="SVG1.svg" class="gray" alt="SVG1 Gray"></td>
                </tr>
                <tr>
                  <td><img src="SVG2.svg" alt="SVG2 Original"></td>
                  <td><img src="SVG2.svg" class="mirror" alt="SVG2 Mirror"></td>
                  <td><img src="SVG2.svg" class="rotate" alt="SVG2 Rotate"></td>
                  <td><img src="SVG2.svg" class="compress" alt="SVG2 Compress"></td>
                  <td><img src="SVG2.svg" class="gray" alt="SVG2 Gray"></td>
                </tr>
                <tr>
                  <td><img src="SVG3.svg" alt="SVG3 Original"></td>
                  <td><img src="SVG3.svg" class="mirror" alt="SVG3 Mirror"></td>
                  <td><img src="SVG3.svg" class="rotate" alt="SVG3 Rotate"></td>
                  <td><img src="SVG3.svg" class="compress" alt="SVG3 Compress"></td>
                  <td><img src="SVG3.svg" class="gray" alt="SVG3 Gray"></td>
                </tr>
                <tr>
                  <td><img src="SVG4.svg" alt="SVG4 Original"></td>
                  <td><img src="SVG4.svg" class="mirror" alt="SVG4 Mirror"></td>
                  <td><img src="SVG4.svg" class="rotate" alt="SVG4 Rotate"></td>
                  <td><img src="SVG4.svg" class="compress" alt="SVG4 Compress"></td>
                  <td><img src="SVG4.svg" class="gray" alt="SVG4 Gray"></td>
                </tr>
                <tr>
                  <td><img src="SVG5.svg" alt="SVG5 Original"></td>
                  <td><img src="SVG5.svg" class="mirror" alt="SVG5 Mirror"></td>
                  <td><img src="SVG5.svg" class="rotate" alt="SVG5 Rotate"></td>
                  <td><img src="SVG5.svg" class="compress" alt="SVG5 Compress"></td>
                  <td><img src="SVG5.svg" class="gray" alt="SVG5 Gray"></td>
                </tr>
                <tr>
                  <td><img src="SVG6.svg" alt="SVG6 Original"></td>
                  <td><img src="SVG6.svg" class="mirror" alt="SVG6 Mirror"></td>
                  <td><img src="SVG6.svg" class="rotate" alt="SVG6 Rotate"></td>
                  <td><img src="SVG6.svg" class="compress" alt="SVG6 Compress"></td>
                  <td><img src="SVG6.svg" class="gray" alt="SVG6 Gray"></td>
                </tr>
                <tr>
                  <td><img src="SVG7.svg" alt="SVG7 Original"></td>
                  <td><img src="SVG7.svg" class="mirror" alt="SVG7 Mirror"></td>
                  <td><img src="SVG7.svg" class="rotate" alt="SVG7 Rotate"></td>
                  <td><img src="SVG7.svg" class="compress" alt="SVG7 Compress"></td>
                  <td><img src="SVG7.svg" class="gray" alt="SVG7 Gray"></td>
                </tr>
                <tr>
                  <td><img src="SVG8.svg" alt="SVG8 Original"></td>
                  <td><img src="SVG8.svg" class="mirror" alt="SVG8 Mirror"></td>
                  <td><img src="SVG8.svg" class="rotate" alt="SVG8 Rotate"></td>
                  <td><img src="SVG8.svg" class="compress" alt="SVG8 Compress"></td>
                  <td><img src="SVG8.svg" class="gray" alt="SVG8 Gray"></td>
                </tr>
                <tr>
                  <td><img src="SVG9.svg" alt="SVG9 Original"></td>
                  <td><img src="SVG9.svg" class="mirror" alt="SVG9 Mirror"></td>
                  <td><img src="SVG9.svg" class="rotate" alt="SVG9 Rotate"></td>
                  <td><img src="SVG9.svg" class="compress" alt="SVG9 Compress"></td>
                  <td><img src="SVG9.svg" class="gray" alt="SVG9 Gray"></td>
                </tr>
                <tr>
                  <td><img src="SVG10.svg" alt="SVG10 Original"></td>
                  <td><img src="SVG10.svg" class="mirror" alt="SVG10 Mirror"></td>
                  <td><img src="SVG10.svg" class="rotate" alt="SVG10 Rotate"></td>
                  <td><img src="SVG10.svg" class="compress" alt="SVG10 Compress"></td>
                  <td><img src="SVG10.svg" class="gray" alt="SVG10 Gray"></td>
                </tr>
            </table>
        </div>
    </div>

    <div class="assignment-section">
        <h2 class="section-title">Part 3: Interactive Icon & SVGs</h2>
        <div id="part3-container">
            <div class="svg-grid">
                <div class="svg-card">
                    <div class="svg-header"><div class="svg-title">SVG one</div><div class="svg-number">1</div></div>
                    <div class="svg-container">
                        <svg id="svg1" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 10 10">
                            <rect x="0" y="0" width="10" height="10" fill="white"/>
                            <g class="grid-lines">
                                <g class="grid-line" stroke="#e8e8e8" stroke-width="0.01">
                                    <path d="M0 0.5 H10 M0 1.5 H10 M0 2.5 H10 M0 3.5 H10 M0 4.5 H10 M0 5.5 H10 M0 6.5 H10 M0 7.5 H10 M0 8.5 H10 M0 9.5 H10"/>
                                    <path d="M0.5 0 V10 M1.5 0 V10 M2.5 0 V10 M3.5 0 V10 M4.5 0 V10 M5.5 0 V10 M6.5 0 V10 M7.5 0 V10 M8.5 0 V10 M9.5 0 V10"/>
                                </g>
                                <g class="grid-line" stroke="#bdbdbd" stroke-width="0.02">
                                    <path d="M0 0 H10 M0 1 H10 M0 2 H10 M0 3 H10 M0 4 H10 M0 5 H10 M0 6 H10 M0 7 H10 M0 8 H10 M0 9 H10 M0 10 H10"/>
                                    <path d="M0 0 V10 M1 0 V10 M2 0 V10 M3 0 V10 M4 0 V10 M5 0 V10 M6 0 V10 M7 0 V10 M8 0 V10 M9 0 V10 M10 0 V10"/>
                                </g>
                            </g>
                            <rect x="0" y="0" width="10" height="10" fill="none" stroke="#888" stroke-width="0.04"/>
                            <defs>
                                <marker id="arrow-blue" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="4" markerHeight="4" orient="auto"><path d="M0 0 L10 5 L0 10 Z" fill="#1976d2"/></marker>
                                <marker id="arrow-black" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="4" markerHeight="4" orient="auto"><path d="M0 0 L10 5 L0 10 Z" fill="#000"/></marker>
                            </defs>
                            <g id="interactive-points">
                                <circle class="point" cx="1" cy="1" r="0.05" fill="#ff6b6b" data-point="A"/>
                                <circle class="point" cx="1" cy="4" r="0.05" fill="#4ecdc4" data-point="B"/>
                                <circle class="point" cx="3" cy="3" r="0.05" fill="#45b7d1" data-point="D"/>
                                <circle class="point" cx="3" cy="6" r="0.05" fill="#96ceb4" data-point="C"/>
                            </g>
                            <polyline id="abcd" points="1,1 1,4 3,6 3,3 1,1" fill="none" stroke="#000" stroke-width="0.08" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="12" stroke-dashoffset="0">
                                <animate attributeName="stroke-dashoffset" values="12;0;0" keyTimes="0;0.1667;1" dur="12s" repeatCount="indefinite" />
                            </polyline>
                            <g font-size="0.35" fill="#000" text-anchor="start" dominant-baseline="middle">
                                <text x="0.5" y="1">A <animate attributeName="opacity" values="1;0.3;1" dur="1.6s" repeatCount="indefinite" /></text>
                                <text x="0.5" y="4">B <animate attributeName="opacity" values="1;0.3;1" dur="1.6s" begin="0.2s" repeatCount="indefinite" /></text>
                                <text x="3.2" y="3">D <animate attributeName="opacity" values="1;0.3;1" dur="1.6s" begin="0.4s" repeatCount="indefinite" /></text>
                                <text x="3.2" y="6">C <animate attributeName="opacity" values="1;0.3;1" dur="1.6s" begin="0.6s" repeatCount="indefinite" /></text>
                            </g>
                            <line id="DA" class="line-animation" x1="3" y1="6" x2="1" y2="1" stroke="#1976d2" stroke-width="0.08" stroke-dasharray="0.2 0.2" marker-end="url(#arrow-blue)">
                                <animate attributeName="stroke-dashoffset" from="0" to="0.4" dur="0.6s" repeatCount="indefinite" />
                            </line>
                            <line id="CB" class="line-animation" x1="3" y1="3" x2="1" y2="4" stroke="#000" stroke-width="0.08" stroke-dasharray="0.2 0.2" marker-end="url(#arrow-black)">
                                <animate attributeName="stroke-dashoffset" from="0" to="0.4" dur="0.6s" repeatCount="indefinite" />
                            </line>
                        </svg>
                    </div>
                    <div class="note-section">
                        <div class="note-label"><i>Á¨îËÆ∞</i><span>Note</span></div>
                        <div class="svg1-notes" style="font:14px/1.6 system-ui,sans-serif; color:#111;">
                            <ol style="margin:0; padding-left:18px;">
                                <li>The first step is to draw a canvas of several by several centimeters.</li>
                                <li>The second step is to draw a parallelogram on it, and the coordinates of its four points are as follows.</li>
                                <li>The third step is to connect the two diagonals and indicate the direction of the arrows with which two coordinates.</li>
                                <li>The fourth step is to add some animation effects using D3 and CSS.</li>
                            </ol>
                            <div class="process-link" style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #3498db;">
                                <h4 style="margin: 0 0 10px 0; color: #2c3e50; font-size: 16px;">üìñ Âà∂‰ΩúËøáÁ®ãËØ¶Ëß£</h4>
                                <p style="margin: 0 0 12px 0; color: #555; font-size: 14px; line-height: 1.5;">Êé¢Á¥¢Ëøô‰∏™SVGÂõæÂΩ¢ÁöÑÂÆåÊï¥Âà∂‰ΩúÊµÅÁ®ãÔºåÂåÖÊã¨ÊØè‰∏™Ê≠•È™§ÁöÑ‰∏≠Èó¥ÊïàÊûúÂíåËØ¶ÁªÜËØ¥Êòé„ÄÇ</p>
                                <a href="svg1-process.html" class="process-btn">üîç Êü•ÁúãËØ¶ÁªÜÂà∂‰ΩúËøáÁ®ã</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="svg-card">
                    <div class="svg-header"><div class="svg-title">SVG two</div><div class="svg-number">2</div></div>
                    <div class="svg-container">
                        <svg id="scene" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 20 20" aria-label="optimisation route">
                            <defs>
                                <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="3.2" markerHeight="3.2" orient="auto"><path d="M0 0 L10 5 L0 10 Z" fill="#111"/></marker>
                                <filter id="softShadow" x="-50%" y="-50%" width="200%" height="200%"><feDropShadow dx="0.08" dy="0.08" stdDeviation="0.12" flood-color="#000" flood-opacity="0.25"/></filter>
                            </defs>
                            <g transform="translate(1,1)">
                                <g class="gridMinor">
                                    <path d="M0 .5 H18 M0 1.0 H18 M0 1.5 H18 M0 2.0 H18 M0 2.5 H18 M0 3.0 H18 M0 3.5 H18 M0 4.0 H18 M0 4.5 H18 M0 5.0 H18 M0 5.5 H18 M0 6.0 H18 M0 6.5 H18 M0 7.0 H18 M0 7.5 H18 M0 8.0 H18 M0 8.5 H18 M0 9.0 H18 M0 9.5 H18 M0 10.0 H18 M0 10.5 H18 M0 11.0 H18 M0 11.5 H18 M0 12.0 H18 M0 12.5 H18 M0 13.0 H18 M0 13.5 H18 M0 14.0 H18 M0 14.5 H18 M0 15.0 H18 M0 15.5 H18 M0 16.0 H18 M0 16.5 H18 M0 17.0 H18 M0 17.5 H18"/>
                                    <path d="M.5 0 V18 M1.0 0 V18 M1.5 0 V18 M2.0 0 V18 M2.5 0 V18 M3.0 0 V18 M3.5 0 V18 M4.0 0 V18 M4.5 0 V18 M5.0 0 V18 M5.5 0 V18 M6.0 0 V18 M6.5 0 V18 M7.0 0 V18 M7.5 0 V18 M8.0 0 V18 M8.5 0 V18 M9.0 0 V18 M9.5 0 V18 M10.0 0 V18 M10.5 0 V18 M11.0 0 V18 M11.5 0 V18 M12.0 0 V18 M12.5 0 V18 M13.0 0 V18 M13.5 0 V18 M14.0 0 V18 M14.5 0 V18 M15.0 0 V18 M15.5 0 V18 M16.0 0 V18 M16.5 0 V18 M17.0 0 V18 M17.5 0 V18"/>
                                </g>
                                <g class="gridMajor">
                                    <path d="M0 1 H18 M0 2 H18 M0 3 H18 M0 4 H18 M0 5 H18 M0 6 H18 M0 7 H18 M0 8 H18 M0 9 H18 M0 10 H18 M0 11 H18 M0 12 H18 M0 13 H18 M0 14 H18 M0 15 H18 M0 16 H18 M0 17 H18"/>
                                    <path d="M1 0 V18 M2 0 V18 M3 0 V18 M4 0 V18 M5 0 V18 M6 0 V18 M7 0 V18 M8 0 V18 M9 0 V18 M10 0 V18 M11 0 V18 M12 0 V18 M13 0 V18 M14 0 V18 M15 0 V18 M16 0 V18 M17 0 V18"/>
                                </g>
                                <rect class="frame" x="0" y="0" width="18" height="18"/>
                                <line id="startSeg" class="start" x1="5.78" y1="1.48" x2="6.02" y2="3.65"/>
                                <text class="label" x="4.9" y="1.2" font-style="italic">random start</text>
                                <polyline id="routeBase" points="6.00,4.20 5.60,5.80 5.10,7.40 4.40,8.80 4.10,9.60 4.70,10.20 5.40,10.60 4.40,11.00 4.20,10.00 4.90,9.40 6.00,10.00 7.00,10.00 8.60,9.60 9.80,9.00 11.00,9.00 12.00,9.30 13.50,8.60 14.20,8.00 12.60,8.00" fill="none" stroke="none"/>
                                <g id="bandLayer"></g>
                                <g id="routeSegments"></g>
                                <path id="motionPath" d="" fill="none" stroke="transparent"/>
                                <rect id="blockBlue" class="block" fill="#3b82f6"></rect>
                                <rect id="blockRed" class="block" fill="#ef4444"></rect>
                                <g id="endpoints"></g>
                                <text class="hint" x="11.6" y="12.8"><tspan class="hint-blue" x="11.6" dy="0">covered space</tspan><tspan class="hint-gray" x="11.6" dy="0.7">no coverage</tspan></text>
                            </g>
                        </svg>
                    </div>
                    <div class="note-section">
                        <div class="note-label"><i>Á¨îËÆ∞</i><span>Note</span></div>
                        <div class="svg1-notes" style="font:14px/1.6 system-ui,sans-serif; color:#111;">
                            <ol style="margin:0; padding-left:18px;">
                                <li>The first step is to draw a canvas of several by several centimeters.</li>
                                <li>The second step is to randomly generate a line segment with an arrowhead and label it as "Random star".</li>
                                <li>The third step is to randomly plan a path based on the initial arrowed line segment and generate approximately 15 small arrowed line segments.</li>
                                <li>The fourth step is to mark the flow path of the line segments with a light blue transparent area.</li>
                                <li>The fifth step is to mark X and X' and label the covered space in blue font and the no coverage area in black font.</li>
                                <li>The sixth step is to make the start and end points move between each other using D3 and CSS.</li>
                            </ol>
<div class="process-link" style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #3498db;">
                                <h4 style="margin: 0 0 10px 0; color: #2c3e50; font-size: 16px;">üìñ Âà∂‰ΩúËøáÁ®ãËØ¶Ëß£</h4>
                                <p style="margin: 0 0 12px 0; color: #555; font-size: 14px; line-height: 1.5;">Êé¢Á¥¢Ëøô‰∏™SVGÂõæÂΩ¢ÁöÑÂÆåÊï¥Âà∂‰ΩúÊµÅÁ®ãÔºåÂåÖÊã¨ÊØè‰∏™Ê≠•È™§ÁöÑ‰∏≠Èó¥ÊïàÊûúÂíåËØ¶ÁªÜËØ¥Êòé„ÄÇ</p>
                                <a href="svg2-process.html" class="process-btn">üîç Êü•ÁúãËØ¶ÁªÜÂà∂‰ΩúËøáÁ®ã</a>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="svg-card">
                    <div class="svg-header"><div class="svg-title">SVG three</div><div class="svg-number">3</div></div>
                    <div class="svg-container">
                        <div class="shiny-wrap" aria-label="SVG3 with shimmer and hover zoom">
                            <img src="Assignment3 SVG3.svg" class="shiny-img" alt="Shiny SVG" style="width:100%; height:100%;">
                        </div>
                    </div>
                    <div class="note-section">
                        <div class="note-label"><i>Á¨îËÆ∞</i><span>Note</span></div>
                        <div class="svg3-notes" style="font:14px/1.6 system-ui,sans-serif; color:#111;">
                            <ol style="margin:0; padding-left:18px;">
                                <li>The first step is to convert the PNG file to an SVG file.</li>
                                <li>The second step is to beautify the SVG using D3 and CSS.</li>
                                <li>The third step is to proportionally reduce its size so that it can be placed in HTML.</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <div class="svg-card">
                    <div class="svg-header"><div class="svg-title">SVG four</div><div class="svg-number">4</div></div>
                    <div class="svg-container">
                        <svg id="svg4" xmlns="http://www.w3.org/2000/svg" width="450" height="600" viewBox="0 0 900 700" aria-label="PDF chart">
                            <defs>
                                <filter id="softGlow" x="-50%" y="-50%" width="200%" height="200%">
                                    <feGaussianBlur stdDeviation="3" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
                                </filter>
                            </defs>
                            <g id="plot4" transform="translate(180,170)">
                                <rect x="0" y="0" width="550" height="380" fill="#ffffff" stroke="#e5e7eb" stroke-width="2"/>
                                <g stroke="#e5e7eb" stroke-width="1">
                                    <path d="M70 0 V380 M140 0 V380 M210 0 V380 M280 0 V380 M350 0 V380 M420 0 V380 M490 0 V380"/>
                                    <path d="M0 54 H550 M0 108 H550 M0 162 H550 M0 216 H550 M0 270 H550 M0 324 H550 M0 368 H550"/>
                                </g>
                                <g transform="translate(340,20)" font-family="Georgia, 'Times New Roman', serif" font-size="18" fill="#111827">
                                    <rect x="0" y="-10" width="26" height="4" fill="#eab54f"/>
                                    <text x="28" y="0">ÈªÑËâ≤Ôºöp(x, y = 0) ¬∑ ŒΩ(x)</text>
                                    <rect x="0" y="28" width="26" height="4" fill="#1f8aa6"/>
                                    <text x="28" y="40">ÈùíËâ≤Ôºöp(x, y = 1) ¬∑ ŒΩ(x)</text>
                                </g>
                                <g stroke="#111827" stroke-width="2">
                                    <line x1="0" y1="380" x2="540" y2="380"/><polygon points="540,380 520,370 520,390" fill="#111827"/><line x1="0" y1="380" x2="0" y2="0"/><polygon points="0,0 -8,14 8,14" fill="#111827"/>
                                </g>
                                <g stroke="#111827" stroke-width="2">
                                    <path d="M0 380 v-8 M70 380 v-8 M140 380 v-8 M210 380 v-8 M280 380 v-8 M350 380 v-8 M420 380 v-8 M490 380 v-8"/>
                                    <path d="M0 360 h8 M0 326 h8 M0 272 h8 M0 218 h8 M0 164 h8 M0 110 h8 M0 56 h8 M0 2 h8"/>
                                </g>
                                <g font-family="system-ui" fill="#374151" font-size="18">
                                    <g text-anchor="middle"><text x="0" y="410">‚àí2</text><text x="70" y="410">‚àí1</text><text x="140" y="410">0</text><text x="210" y="410">1</text><text x="280" y="410">2</text><text x="350" y="410">3</text><text x="420" y="410">4</text><text x="490" y="410">5</text></g>
                                    <g text-anchor="end"><text x="-12" y="360">0.00</text><text x="-12" y="330">0.05</text><text x="-12" y="276">0.10</text><text x="-12" y="222">0.15</text><text x="-12" y="168">0.20</text><text x="-12" y="114">0.25</text><text x="-12" y="60">0.30</text><text x="-12" y="6">0.35</text></g>
                                </g>
                                <g stroke="#111827" stroke-width="2" stroke-dasharray="8 8" opacity="0.85">
                                    <line x1="189" y1="380" x2="189" y2="40"/><line x1="231" y1="380" x2="231" y2="40"/><line x1="0" y1="380" x2="540" y2="380"/>
                                </g>
                                <polygon id="overlap" fill="#6b7280" fill-opacity="0.45" stroke="none"/>
                                <path id="curve0" fill="none" stroke="#eab54f" stroke-width="3.5" opacity="0.98"/>
                                <path id="curve1" fill="none" stroke="#1f8aa6" stroke-width="3.5" opacity="0.98"/>
                                <circle id="xpointGlow" cx="213" cy="237" r="8"/>
                                <circle id="xpoint" cx="213" cy="237" r="3"/>
                            </g>
                        </svg>
                    </div>
                    <div class="note-section">
                        <div class="note-label"><i>Á¨îËÆ∞</i><span>Note</span></div>
                        <div class="svg4-notes" style="font:14px/1.6 system-ui,sans-serif; color:#111;">
                            <ol style="margin:0; padding-left:18px;">
                                <li>The first step is to draw a canvas of several by several centimeters.</li>
                                <li>The second step is to establish the X and Y axes on the canvas.</li>
                                <li>The third step is to draw yellow and cyan curves based on the Probability Density.</li>
                                <li>The fourth step is to draw two dotted lines at 0.3 to the left and right of 1 on the X-axis.</li>
                                <li>The fifth step is to establish a function to describe the shaded area where the two curves overlap.</li>
                                <li>The sixth step is to make marks and use CSS to beautify and animate them.</li>
                            </ol>
                            <div class="process-link" style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #3498db;">
                                <h4 style="margin: 0 0 10px 0; color: #2c3e50; font-size: 16px;">üìñ Âà∂‰ΩúËøáÁ®ãËØ¶Ëß£</h4>
                                <p style="margin: 0 0 12px 0; color: #555; font-size: 14px; line-height: 1.5;">Êé¢Á¥¢Ëøô‰∏™SVGÂõæÂΩ¢ÁöÑÂÆåÊï¥Âà∂‰ΩúÊµÅÁ®ãÔºåÂåÖÊã¨ÊØè‰∏™Ê≠•È™§ÁöÑ‰∏≠Èó¥ÊïàÊûúÂíåËØ¶ÁªÜËØ¥Êòé„ÄÇ</p>
                                <a href="svg4-process.html" class="process-btn">üîç Êü•ÁúãËØ¶ÁªÜÂà∂‰ΩúËøáÁ®ã</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="svg-card">
                    <div class="svg-header"><div class="svg-title">SVG five</div><div class="svg-number">5</div></div>
                    <div class="svg-container">
                        <svg id="svg5" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 600 400">
                            <defs>
                                <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                                    <feGaussianBlur in="SourceGraphic" stdDeviation="8" result="blur"/><feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
                                </filter>
                                <linearGradient id="redGradient" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#ff0000" stop-opacity="0.8"/><stop offset="100%" stop-color="#ff6666" stop-opacity="0.8"/></linearGradient>
                                <linearGradient id="greenGradient" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#00ff00" stop-opacity="0.8"/><stop offset="100%" stop-color="#66ff66" stop-opacity="0.8"/></linearGradient>
                                <linearGradient id="blueGradient" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#0000ff" stop-opacity="0.8"/><stop offset="100%" stop-color="#6666ff" stop-opacity="0.8"/></linearGradient>
                            </defs>
                            <rect x="0" y="0" width="600" height="400" fill="#f8f9fa"/>
                            <text x="300" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" fill="#333" font-weight="bold">three-primary colours</text>
                            <circle id="mixCircle" cx="300" cy="200" r="80" fill="rgb(128,128,128)" filter="url(#glow)" stroke="#333" stroke-width="2"/>
                            <g id="colorControls">
                                <g class="color-control" data-color="red">
                                    <circle id="redCircle" cx="150" cy="120" r="40" fill="url(#redGradient)" stroke="#cc0000" stroke-width="3" cursor="move" filter="url(#glow)"/>
                                    <text x="150" y="125" text-anchor="middle" font-family="Arial" font-size="14" fill="#fff" font-weight="bold">R</text>
                                    <circle id="redHandle" cx="150" cy="120" r="8" fill="#fff" stroke="#cc0000" stroke-width="2" cursor="move"/>
                                </g>
                                <g class="color-control" data-color="green">
                                    <circle id="greenCircle" cx="150" cy="280" r="40" fill="url(#greenGradient)" stroke="#00cc00" stroke-width="3" cursor="move" filter="url(#glow)"/>
                                    <text x="150" y="285" text-anchor="middle" font-family="Arial" font-size="14" fill="#fff" font-weight="bold">G</text>
                                    <circle id="greenHandle" cx="150" cy="280" r="8" fill="#fff" stroke="#00cc00" stroke-width="2" cursor="move"/>
                                </g>
                                <g class="color-control" data-color="blue">
                                    <circle id="blueCircle" cx="450" cy="200" r="40" fill="url(#blueGradient)" stroke="#0000cc" stroke-width="3" cursor="move" filter="url(#glow)"/>
                                    <text x="450" y="205" text-anchor="middle" font-family="Arial" font-size="14" fill="#fff" font-weight="bold">B</text>
                                    <circle id="blueHandle" cx="450" cy="200" r="8" fill="#fff" stroke="#0000cc" stroke-width="2" cursor="move"/>
                                </g>
                            </g>
                            <line id="redLine" x1="150" y1="120" x2="300" y2="200" stroke="#ff0000" stroke-width="2" stroke-dasharray="5,5" opacity="0.6"/>
                            <line id="greenLine" x1="150" y1="280" x2="300" y2="200" stroke="#00ff00" stroke-width="2" stroke-dasharray="5,5" opacity="0.6"/>
                            <line id="blueLine" x1="450" y1="200" x2="300" y2="200" stroke="#0000ff" stroke-width="2" stroke-dasharray="5,5" opacity="0.6"/>
                            <rect x="250" y="300" width="100" height="40" fill="#333" rx="5" opacity="0.8"/>
                            <text id="rgbValue" x="300" y="325" text-anchor="middle" font-family="monospace" font-size="14" fill="#fff">RGB(128,128,128)</text>
                            <text x="300" y="370" text-anchor="middle" font-family="Arial" font-size="12" fill="#666">Drag the colored circles to mix RGB colors</text>
                        </svg>
                    </div>
                    <div class="note-section">
                        <div class="note-label"><i>Á¨îËÆ∞</i><span>Note</span></div>
                        <div class="svg4-notes" style="font:14px/1.6 system-ui,sans-serif; color:#111;">
                            <ol style="margin:0; padding-left:18px;">
                                <li>First, tell it that I want to draw four circles with different centers and different radii.</li>
                                <li>Second, tell it that what I want to show is the interaction of the three primary colors.</li>
                                <li>Third, tell it that I hope to make it interactive using D3 and CSS.</li>
                            </ol>
                            <div class="process-link" style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #3498db;">
                                <h4 style="margin: 0 0 10px 0; color: #2c3e50; font-size: 16px;">üìñ Âà∂‰ΩúËøáÁ®ãËØ¶Ëß£</h4>
                                <a href="svg5-process.html" class="process-btn">üîç Êü•ÁúãËØ¶ÁªÜÂà∂‰ΩúËøáÁ®ã</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="assignment-section">
        <h2 class="section-title">Part 4: Complex Data Visualization (Heatmap)</h2>
        <div id="part4-container">
            <div class="controls">
                <div class="search-box">
                    <input type="text" id="search-input" placeholder="Search method or attack type...">
                    <div class="search-suggestions" id="search-suggestions"></div>
                </div>
                <button id="toggle-stats">statistical information</button>
            </div>
            <div id="heatmap-container"></div>
            <div id="legend">
                <div class="legend-item"><div class="legend-color" style="background-color: hsl(0, 80%, 60%)"></div><span>low rate</span></div>
                <div class="legend-item"><div class="legend-color" style="background-color: hsl(60, 80%, 60%)"></div><span>middle rate</span></div>
                <div class="legend-item"><div class="legend-color" style="background-color: hsl(120, 80%, 60%)"></div><span>high rate</span></div>
            </div>
            <div id="stats-panel" class="stats-panel hidden">
                <h3 style="text-align:center; color:#2c3e50; margin-bottom:15px;">Performance Statistics</h3>
                <div class="stats-grid" id="stats-grid"></div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- Part 1 JS: Singapore PSI Data Fetch ---
            const API = 'https://api.data.gov.sg/v1/environment/psi';
            const statusEl = d3.select('#status');
            async function fetchData() {
                statusEl.text('Loading...');
                try {
                    const data = await d3.json(API);
                    const readings = data.items[0].readings;
                    const time = data.items[0].timestamp;
                    d3.select('#timestamp').text('Last Updated: ' + new Date(time).toLocaleString('en-US'));
                    const tbody = d3.select('#psiTable tbody');
                    tbody.selectAll('*').remove();
                    const regions = ['north','south','east','west','central'];
                    Object.keys(readings).forEach(type => {
                        const row = tbody.append('tr');
                        row.append('td').text(type);
                        regions.forEach(region => { row.append('td').text(readings[type][region] ?? '-'); });
                    });
                    statusEl.text('Loaded successfully');
                } catch (error) {
                    console.error(error);
                    statusEl.text('Failed to load data');
                }
            }
            d3.select('#refreshBtn').on('click', fetchData);
            fetchData(); 

            // --- Part 2 JS: Pure CSS ---

            // --- Part 3 JS: Interactive SVGs ---
            // SVG 1 Interactions
            const svg1 = document.getElementById('svg1');
            if (svg1) {
                svg1.addEventListener('mouseenter', function() {
                    this.querySelectorAll('.grid-line').forEach(l => l.style.stroke = '#c0c0c0');
                    this.querySelectorAll('.point').forEach(p => p.setAttribute('r', '0.07'));
                });
                svg1.addEventListener('mouseleave', function() {
                    this.querySelectorAll('.grid-line').forEach(l => l.style.stroke = '');
                    this.querySelectorAll('.point').forEach(p => p.setAttribute('r', '0.05'));
                });
                svg1.querySelectorAll('.point').forEach(point => {
                    point.addEventListener('click', function() {
                        const pointName = this.getAttribute('data-point');
                        this.setAttribute('r', '0.1'); this.style.fill = '#ff4757';
                        setTimeout(() => { this.setAttribute('r', '0.05'); this.style.fill = ''; }, 200);
                        const lines = svg1.querySelectorAll('#DA, #CB, #abcd');
                        lines.forEach(l => l.style.stroke = '');
                        if(pointName==='A') { svg1.querySelector('#DA').style.stroke='#ff6b6b'; svg1.querySelector('#abcd').style.stroke='#ff6b6b'; }
                        if(pointName==='B') { svg1.querySelector('#CB').style.stroke='#4ecdc4'; svg1.querySelector('#abcd').style.stroke='#4ecdc4'; }
                        if(pointName==='C') { svg1.querySelector('#DA').style.stroke='#96ceb4'; svg1.querySelector('#abcd').style.stroke='#96ceb4'; }
                        if(pointName==='D') { svg1.querySelector('#CB').style.stroke='#45b7d1'; svg1.querySelector('#abcd').style.stroke='#45b7d1'; }
                    });
                });
            }

            // SVG 2 Interactions (D3 Animation)
            (function(){
                const svg = d3.select('#scene');
                if(svg.empty()) return;
                const basePts = d3.select('#routeBase').attr('points').trim().split(/\s+/).map(s=>{ const [x,y]=s.split(',').map(Number); return {x,y}; });
                const s = d3.select('#startSeg');
                const sA = {x:+s.attr('x1'), y:+s.attr('y1')};
                const sB = {x:+s.attr('x2'), y:+s.attr('y2')};
                const allPts = [sA, sB, ...basePts];
                const trim = 0.14, bandW = 0.20;
                const segLayer = d3.select('#routeSegments');
                const bandLayer = d3.select('#bandLayer');
                function addSeg(a,b){
                    const dx=b.x-a.x, dy=b.y-a.y, L=Math.hypot(dx,dy);
                    if(L<=2*trim) return;
                    const ux=dx/L, uy=dy/L;
                    segLayer.append('line').attr('class','seg').attr('x1',a.x+ux*trim).attr('y1',a.y+uy*trim).attr('x2',b.x-ux*trim).attr('y2',b.y-uy*trim);
                }
                for(let i=0;i<basePts.length-1;i++) addSeg(basePts[i], basePts[i+1]);
                function norm(v){ const L=Math.hypot(v.x,v.y); return L<1e-6? {x:0,y:0}:{x:v.x/L,y:v.y/L}; }
                function leftN(u){ return {x:-u.y, y:u.x}; }
                const left=[], right=[];
                let u = norm({x:allPts[1].x-allPts[0].x, y:allPts[1].y-allPts[0].y});
                let n = leftN(u);
                left.push({x:allPts[0].x+n.x*bandW, y:allPts[0].y+n.y*bandW});
                right.push({x:allPts[0].x-n.x*bandW, y:allPts[0].y-n.y*bandW});
                for(let i=1;i<allPts.length-1;i++){
                    const u1=norm({x:allPts[i].x-allPts[i-1].x, y:allPts[i].y-allPts[i-1].y});
                    const u2=norm({x:allPts[i+1].x-allPts[i].x, y:allPts[i+1].y-allPts[i].y});
                    const n1=leftN(u1), n2=leftN(u2);
                    const m={x:n1.x+n2.x, y:n1.y+n2.y}; const mL=norm(m);
                    const denom = mL.x*n1.x + mL.y*n1.y;
                    if(Math.abs(denom)<0.15){
                        left.push({x:allPts[i].x+n2.x*bandW, y:allPts[i].y+n2.y*bandW});
                        right.push({x:allPts[i].x-n2.x*bandW, y:allPts[i].y-n2.y*bandW});
                    }else{
                        const k=bandW/denom;
                        left.push({x:allPts[i].x+mL.x*k, y:allPts[i].y+mL.y*k});
                        right.push({x:allPts[i].x-mL.x*k, y:allPts[i].y-mL.y*k});
                    }
                }
                u = norm({x:allPts.at(-1).x-allPts.at(-2).x, y:allPts.at(-1).y-allPts.at(-2).y});
                n = leftN(u);
                left.push({x:allPts.at(-1).x+n.x*bandW, y:allPts.at(-1).y+n.y*bandW});
                right.push({x:allPts.at(-1).x-n.x*bandW, y:allPts.at(-1).y-n.y*bandW});
                const hull = [...left, ...right.reverse()];
                d3.select('#bandLayer').append('path').attr('class','band').attr('d','M'+hull.map(p=>`${p.x},${p.y}`).join(' L ')+' Z');
                const dCenter = 'M'+allPts.map(p=>`${p.x},${p.y}`).join(' L ');
                d3.select('#motionPath').attr('d', dCenter);
                const endpoints = d3.select('#endpoints');
                function addMark(p,color,text,dx=0.45,dy=0.15){
                    endpoints.append('rect').attr('x',p.x-0.3).attr('y',p.y-0.3).attr('width',0.6).attr('height',0.6).attr('rx',0.06).attr('fill',color).attr('filter','url(#softShadow)');
                    endpoints.append('text').attr('class','label').attr('font-style','italic').attr('x',p.x+dx).attr('y',p.y+dy).text(text);
                }
                addMark(sA,'#3b82f6','x'); addMark(allPts.at(-1),'#ef4444',"x‚Ä≤");
                d3.select('#blockBlue').attr('width',0.7).attr('height',0.7).attr('rx',0.08).attr('transform',`translate(${sA.x-0.35},${sA.y-0.35})`);
                const pathNode = d3.select('#motionPath').node();
                if(pathNode) {
                    const total = pathNode.getTotalLength();
                    function move(sel, duration, delay){
                        sel.attr('width',0.7).attr('height',0.7).attr('rx',0.08);
                        function run(){
                            sel.transition().duration(duration).delay(delay).ease(d3.easeCubicInOut)
                            .attrTween('transform', function(){ return function(t){ const p = pathNode.getPointAtLength(t*total); return `translate(${p.x-0.35},${p.y-0.35})`; }; })
                            .on('end', run);
                        }
                        run();
                    }
                    move(d3.select('#blockRed'), 4200, 600);
                }
            })();

            // SVG 4 Interactions
            (function initSVG4() {
                const plot = document.getElementById('plot4');
                if(!plot) return;
                const x2px = x => 70*(x+2);
                const y2px = y => 360 - 360*(y/0.35);
                const y0px = 360;
                function evalYellow(x){
                    const base = 0.22*Math.exp(-Math.pow((x-0.25)/1.2,2));
                    const cross= 0.13*Math.exp(-Math.pow((x-1.1)/0.22,2));
                    const rightTaper = (x<=0.7)?1: Math.max(0, 1 - (x-0.7)/(3.0-0.7));
                    const leftTaper  = (x>=-2)? Math.max(0, 1 - Math.max(0,(-0.6 - x))/1.4):0;
                    return Math.max(0, Math.min(0.35, Math.max(base,cross) * rightTaper * leftTaper));
                }
                function evalCyan(x){
                    const peak = 0.25*Math.exp(-Math.pow((x-1.72)/0.8,2));
                    const cross= 0.13*Math.exp(-Math.pow((x-1.1)/0.22,2));
                    let y = Math.max(peak, cross);
                    if (x<=-0.7) y=0; if (x>=4.3) y=0;
                    return Math.max(0, Math.min(0.35, y));
                }
                function buildPath(evalFn, xStart, xEnd, step){
                    const pts = [];
                    for(let x = xStart; x <= xEnd + 1e-12; x += step){ pts.push([x2px(x), y2px(evalFn(x))]); }
                    return "M" + pts.map((p,i) => (i ? "L" : "") + p[0].toFixed(1) + "," + p[1].toFixed(1)).join(" ");
                }
                const xL = -0.7, xR = 3, step = 0.02, top = [];
                for(let x = xL; x <= xR + 1e-12; x += step){ const y = Math.min(evalYellow(x), evalCyan(x)); top.push([x2px(x), y2px(y)]); }
                top.push([x2px(xR), y0px]); top.push([x2px(xL), y0px]);
                document.getElementById('overlap').setAttribute('points', top.map(p => p[0].toFixed(1) + "," + p[1].toFixed(1)).join(" "));
                const c0 = document.getElementById('curve0');
                const c1 = document.getElementById('curve1');
                c0.setAttribute('d', buildPath(evalYellow, -2, 5, 0.02));
                c1.setAttribute('d', buildPath(evalCyan, -2, 5, 0.02));
                [c0, c1].forEach(el => { const len = el.getTotalLength(); el.style.setProperty('--dash', len); el.setAttribute('stroke-dasharray', len); el.setAttribute('stroke-dashoffset', len); });
            })();

            // SVG 5 Interactions (Drag & Drop)
            (function initSVG5(){
                const svg5 = document.getElementById('svg5');
                if (!svg5) return;
                const redHandle = document.getElementById('redHandle'), greenHandle = document.getElementById('greenHandle'), blueHandle = document.getElementById('blueHandle');
                const redCircle = document.getElementById('redCircle'), greenCircle = document.getElementById('greenCircle'), blueCircle = document.getElementById('blueCircle');
                const mixCircle = document.getElementById('mixCircle'), rgbValue = document.getElementById('rgbValue');
                const redLine = document.getElementById('redLine'), greenLine = document.getElementById('greenLine'), blueLine = document.getElementById('blueLine');
                const positions = { red: { x: 150, y: 120 }, green: { x: 150, y: 280 }, blue: { x: 450, y: 200 } };
                function calculateIntensity(x, y, baseX, baseY, maxDistance) { const distance = Math.sqrt(Math.pow(x - baseX, 2) + Math.pow(y - baseY, 2)); return Math.max(0, Math.min(255, 255 - (distance / maxDistance) * 255)); }
                function updateColorMix() {
                    const centerX = 300, centerY = 200, maxDistance = 200;
                    const r = calculateIntensity(positions.red.x, positions.red.y, centerX, centerY, maxDistance);
                    const g = calculateIntensity(positions.green.x, positions.green.y, centerX, centerY, maxDistance);
                    const b = calculateIntensity(positions.blue.x, positions.blue.y, centerX, centerY, maxDistance);
                    mixCircle.setAttribute('fill', `rgb(${Math.round(r)}, ${Math.round(g)}, ${Math.round(b)})`);
                    rgbValue.textContent = `RGB(${Math.round(r)}, ${Math.round(g)}, ${Math.round(b)})`;
                    updateConnectionLines();
                }
                function updateConnectionLines() {
                    redLine.setAttribute('x1', positions.red.x); redLine.setAttribute('y1', positions.red.y);
                    greenLine.setAttribute('x1', positions.green.x); greenLine.setAttribute('y1', positions.green.y);
                    blueLine.setAttribute('x1', positions.blue.x); blueLine.setAttribute('y1', positions.blue.y);
                }
                function setupDrag(element, color) {
                    let isDragging = false;
                    element.addEventListener('mousedown', (e) => { isDragging = true; e.preventDefault(); element.style.cursor = 'grabbing'; document.getElementById(color + 'Circle').style.filter = 'url(#glow) brightness(1.3)'; });
                    document.addEventListener('mousemove', (e) => {
                        if (!isDragging) return;
                        const svgRect = svg5.getBoundingClientRect();
                        const scaleX = svg5.viewBox.baseVal.width / svgRect.width;
                        const scaleY = svg5.viewBox.baseVal.height / svgRect.height;
                        const x = (e.clientX - svgRect.left) * scaleX;
                        const y = (e.clientY - svgRect.top) * scaleY;
                        const boundedX = Math.max(50, Math.min(550, x));
                        const boundedY = Math.max(50, Math.min(350, y));
                        positions[color].x = boundedX; positions[color].y = boundedY;
                        document.getElementById(color + 'Circle').setAttribute('cx', boundedX);
                        document.getElementById(color + 'Circle').setAttribute('cy', boundedY);
                        document.getElementById(color + 'Handle').setAttribute('cx', boundedX);
                        document.getElementById(color + 'Handle').setAttribute('cy', boundedY);
                        updateColorMix();
                    });
                    document.addEventListener('mouseup', () => { if(isDragging){ isDragging = false; element.style.cursor = 'move'; document.getElementById(color + 'Circle').style.filter = 'url(#glow)'; } });
                }
                setupDrag(redHandle, 'red'); setupDrag(greenHandle, 'green'); setupDrag(blueHandle, 'blue');
                setupDrag(redCircle, 'red'); setupDrag(greenCircle, 'green'); setupDrag(blueCircle, 'blue');
                updateColorMix();
            })();

            // --- Part 4 JS: Heatmap Visualization ---
            (function() { 
                let approaches = ['ERM', 'DA', 'PGDT', 'TRADES', 'MART', 'RS', 'IBP', 'PRL', 'TandT'];
                const attack_types = ['No Attack', 'TIFGSM', 'MIFGSM', 'DIFGSM', 'VMIFGSM', 'TPGD', 'FGSM', 'RFGSM', 'BIM', 'FAB', 'CW', 'UPGD', 'FFGSM', 'Jitter', 'PGD', 'EOTPGD', 'APGD', 'NIFGSM', 'SiniFGSM', 'VNIFGSM', 'APGDT', 'Square', 'Add Gaussian Noise', 'OnePixel', 'Pixle', 'PGDL2'];
                const data = { 'ERM': [94.85, 35.10, 0.00, 1.00, 0.00, 38.10, 29.90, 0.00, 0.00, 1.00, 0.00, 0.00, 19.60, 11.30, 0.00, 0.00, 0.00, 0.00, 4.10, 0.00, 0.00, 0.00, 25.80, 79.40, 0.00, 1.00], 'DA': [94.21, 33.00, 0.00, 0.00, 0.00, 39.20, 25.80, 0.00, 0.00, 2.10, 0.00, 0.00, 23.70, 12.40, 0.00, 0.00, 0.00, 0.00, 1.00, 0.00, 0.00, 1.00, 43.30, 83.50, 0.00, 0.00], 'PGDT': [84.38, 65.70, 50.90, 51.75, 51.10, 69.30, 57.95, 49.15, 52.00, 43.00, 32.20, 49.85, 60.55, 48.15, 57.40, 50.10, 48.40, 57.95, 59.00, 50.45, 40.90, 50.40, 79.10, 78.05, 12.55, 35.80], 'TRADES': [80.42, 62.90, 51.90, 50.50, 50.90, 69.10, 54.60, 50.40, 57.20, 46.40, 35.10, 50.50, 55.70, 47.40, 54.60, 50.30, 51.00, 56.70, 56.70, 53.00, 44.30, 54.00, 78.40, 74.20, 11.30, 36.10], 'MART': [81.54, 69.10, 50.50, 53.60, 51.90, 70.10, 61.90, 48.50, 47.40, 40.20, 29.90, 49.80, 66.00, 49.50, 60.80, 50.50, 46.40, 59.80, 61.90, 48.50, 38.10, 47.40, 80.40, 82.50, 14.40, 36.10], 'RS': [89.45, 45.40, 5.80, 4.10, 4.10, 48.50, 28.90, 3.70, 2.10, 5.30, 1.00, 5.10, 33.00, 34.00, 7.20, 3.00, 1.00, 7.20, 23.70, 5.10, 0.00, 3.10, 74.20, 83.50, 1.00, 5.20], 'IBP': [48.40, 40.20, 38.10, 38.10, 38.10, 50.00, 38.10, 38.10, 38.10, 38.10, 40.20, 38.10, 42.30, 39.20, 40.20, 38.10, 38.10, 38.10, 38.10, 38.10, 38.10, 38.10, 42.30, 42.50, 10.30, 36.10], 'PRL': [93.82, 34.00, 0.00, 3.10, 0.00, 28.90, 25.80, 0.00, 0.00, 4.10, 1.00, 0.00, 29.90, 24.70, 0.00, 0.00, 0.00, 1.00, 12.40, 0.00, 0.00, 2.10, 45.40, 80.40, 0.00, 0.00], 'TandT': [94.23, 92.80, 92.80, 92.80, 93.90, 91.80, 93.80, 90.00, 90.70, 90.10, 92.90, 93.80, 92.80, 90.70, 91.80, 90.70, 90.70, 92.80, 93.70, 92.90, 88.70, 88.08, 87.60, 89.70, 17.50, 92.90] };
                let currentRotation = parseInt(localStorage.getItem('columnRotation')) || 0;
                function rotateColumns() { const rotatedApproaches = []; for (let i = 0; i < approaches.length; i++) { const index = (currentRotation + i) % approaches.length; rotatedApproaches.push(approaches[index]); } approaches = rotatedApproaches; currentRotation = (currentRotation + 1) % approaches.length; localStorage.setItem('columnRotation', currentRotation); }
                function getColors(value) { const hue = (value / 100) * 120; const saturation = 80; const lightness = 60; const backgroundColor = `hsl(${hue}, ${saturation}%, ${lightness}%)`; const textColor = (lightness > 50) ? '#000000' : '#FFFFFF'; return { background: backgroundColor, text: textColor }; }
                function buildHeatmapWithD3() {
                    const container = d3.select("#heatmap-container"); container.selectAll("*").remove();
                    const table = container.append("table").attr("id", "heatmap-table");
                    const thead = table.append("thead"); const headerRow = thead.append("tr");
                    headerRow.append("th").attr("class", "attack-label").text("Attack");
                    headerRow.selectAll(".header-cell").data(approaches).enter().append("th").attr("class", "header-cell").attr("data-approach", d => d).text(d => d).on("mouseenter", (event, d) => highlightColumn(d)).on("mouseleave", clearHighlights);
                    const tbody = table.append("tbody");
                    const rows = tbody.selectAll(".data-row").data(attack_types).enter().append("tr").attr("class", "data-row d3-row").attr("data-attack", d => d);
                    rows.append("th").attr("class", "attack-header").attr("data-attack", d => d).text(d => d).on("mouseenter", (event, d) => highlightRow(d)).on("mouseleave", clearHighlights);
                    rows.each(function(rowData, rowIndex) {
                        const row = d3.select(this);
                        row.selectAll(".data-cell").data(approaches).enter().append("td").attr("class", "data-cell d3-cell").attr("data-approach", d => d).attr("data-attack", rowData).attr("data-value", d => data[d][rowIndex]).text(d => data[d][rowIndex].toFixed(2))
                        .style("background-color", d => getColors(data[d][rowIndex]).background).style("color", d => getColors(data[d][rowIndex]).text)
                        .on("mouseenter", function(event, d) { highlightColumn(d); highlightRow(rowData); d3.select(this).classed("highlight-cell", true); })
                        .on("mouseleave", function() { clearHighlights(); d3.select(this).classed("highlight-cell", false); });
                    });
                    animateRowsWithD3();
                }
                function animateRowsWithD3() { d3.selectAll(".data-row").each(function(d, i) { d3.select(this).transition().delay(i * 50).duration(500).style("opacity", 1); }); }
                function highlightColumn(approach) { clearHighlights(); d3.selectAll(`[data-approach="${approach}"]`).classed("highlight-col", true); }
                function highlightRow(attack) { clearHighlights(); d3.selectAll(`[data-attack="${attack}"]`).classed("highlight-row", true); }
                function clearHighlights() { d3.selectAll(".highlight-col, .highlight-row, .highlight-cell").classed("highlight-col", false).classed("highlight-row", false).classed("highlight-cell", false); }
                function setupSearch() {
                    const searchInput = document.getElementById('search-input'), suggestions = document.getElementById('search-suggestions'), searchItems = [...approaches, ...attack_types];
                    searchInput.addEventListener('input', function() {
                        const query = this.value.toLowerCase(); suggestions.innerHTML = '';
                        if (query.length < 2) { suggestions.style.display = 'none'; clearHighlights(); return; }
                        const matches = searchItems.filter(item => item.toLowerCase().includes(query));
                        if (matches.length > 0) { matches.forEach(match => { const div = document.createElement('div'); div.textContent = match; div.addEventListener('click', function() { searchInput.value = match; suggestions.style.display = 'none'; performSearch(match); }); suggestions.appendChild(div); }); suggestions.style.display = 'block'; } else { suggestions.style.display = 'none'; }
                    });
                    document.addEventListener('click', (e) => { if (!searchInput.contains(e.target) && !suggestions.contains(e.target)) { suggestions.style.display = 'none'; } });
                }
                function performSearch(query) { if (!query) { clearHighlights(); return; } const normalizedQuery = query.toLowerCase(); if (approaches.map(a => a.toLowerCase()).includes(normalizedQuery)) { const match = approaches.find(a => a.toLowerCase() === normalizedQuery); highlightColumn(match); } else if (attack_types.map(a => a.toLowerCase()).includes(normalizedQuery)) { const match = attack_types.find(a => a.toLowerCase() === normalizedQuery); highlightRow(match); } }
                function setupStats() {
                    const toggleBtn = document.getElementById('toggle-stats'), statsPanel = document.getElementById('stats-panel');
                    toggleBtn.addEventListener('click', function() { if (statsPanel.classList.contains('hidden')) { updateStats(); statsPanel.classList.remove('hidden'); this.textContent = 'Conceal'; } else { statsPanel.classList.add('hidden'); this.textContent = 'Statistical Information'; } });
                }
                function updateStats() {
                    const statsGrid = document.getElementById('stats-grid'); statsGrid.innerHTML = '';
                    let allValues = []; Object.values(data).forEach(values => allValues = allValues.concat(values));
                    const avgAccuracy = allValues.reduce((sum, val) => sum + val, 0) / allValues.length;
                    const maxAccuracy = Math.max(...allValues); const minAccuracy = Math.min(...allValues);
                    addStatItem('Average Accuracy', `${avgAccuracy.toFixed(2)}%`, statsGrid); addStatItem('Highest Accuracy', `${maxAccuracy.toFixed(2)}%`, statsGrid); addStatItem('Lowest Accuracy', `${minAccuracy.toFixed(2)}%`, statsGrid);
                    approaches.forEach(approach => { const values = data[approach]; const avg = values.reduce((sum, val) => sum + val, 0) / values.length; addStatItem(`${approach} Avg`, `${avg.toFixed(2)}%`, statsGrid); });
                }
                function addStatItem(label, value, container) { const item = document.createElement('div'); item.className = 'stat-item'; item.innerHTML = `<div class="stat-value">${value}</div><div class="stat-label">${label}</div>`; container.appendChild(item); }
                rotateColumns(); buildHeatmapWithD3(); setupSearch(); setupStats();
            })();
        });
    </script>
</body>
</html>
